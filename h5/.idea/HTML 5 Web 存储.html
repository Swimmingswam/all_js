<!DOCTYPE html>
<html>
<body>


<p><button onclick="clickCounter()" type="button">请点击这里local</button></p>
<div id="result1"></div>
<p><button onclick="clickCounter()" type="button">请点击这里session</button></p>
<div id="result2"></div>
<!--如何创建和访问 localStorage：-->
<script>
    // Check browser support
    if (typeof(Storage) !== "undefined") {
        // Store
        localStorage.setItem("lastname", "Gates");
        // Retrieve
        document.getElementById("result1").innerHTML = localStorage.getItem("lastname");
    } else {
        document.getElementById("result1").innerHTML = "抱歉！您的浏览器不支持 Web Storage ...";
    }
</script>
<!--对用户访问页面的次数进行计数：-->
<script type="text/javascript">

    if (localStorage.pagecount)
    {
        localStorage.pagecount=Number(localStorage.pagecount) +1;
    }
    else
    {
        localStorage.pagecount=1;
    }
    document.write("local Visits: " + localStorage.pagecount + " time(s).");

</script>
<!--如何创建并访问一个 sessionStorage：-->
<script>
    function clickCounter() {
        if(typeof(Storage) !== "undefined") {
            if (sessionStorage.clickcount) {
                sessionStorage.clickcount = Number(sessionStorage.clickcount)+1;
            } else {
                sessionStorage.clickcount = 1;
            }
            document.getElementById("result2").innerHTML = "在本 session 中，您已经点击这个按钮 " + sessionStorage.clickcount + " 次。";
        } else {
            document.getElementById("result2").innerHTML = "抱歉！您的浏览器不支持 Web Storage ...";
        }
    }
</script>
<!--对用户在当前 session 中访问页面的次数进行计数：-->
<script type="text/javascript">

    if (sessionStorage.pagecount)
    {
        sessionStorage.pagecount=Number(sessionStorage.pagecount) +1;
    }
    else
    {
        sessionStorage.pagecount=1;
    }
    document.write("<br /> session Visits " + sessionStorage.pagecount + " time(s) this session.");

</script>
</body>
</html>
